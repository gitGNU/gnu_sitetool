#! @SHELL@

#
# wrapper
#
# Copyright (C) 2007, 2008 Francesco Salvestrini
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along
# with this program; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
fi

# We need perllibdir, pythonlibdir and guilelibdir in order to run our
# scripts ...
#
# Declare and export useful variables
#
# KEEP ATTENTION: The following declarations are duplicated
#                 in defs.in script
#

#
# NOTE:
#     Some files are in the build directory (created by configure in a VPATH
#     build) while some others are in the source directory ... 
#
# NOTE:
#     Not all variable have both srcdir and builddir because the programs that
#     use the variables should be updated ... sometimes they are automatically 
#     generated (and go to builddir) sometimes they remain where they are (and
#     remain to srcdir)
#
#datadir=@abs_top_builddir@/data
#export datadir
#perllibdir=@abs_top_builddir@/lib/perl:@abs_top_srcdir@/lib/perl
#export perllibdir
#guilelibdir=@abs_top_builddir@/lib/guile
#export guilelibdir

program=$1

shift

parameters=$@

exec @abs_top_builddir@/src/$program $parameters
